# Отчет по тестированию Levem API

## Выполненные требования

✅ **Реализован REST API для проекта Levem**
- Используется Flask framework
- База данных SQLite с SQLAlchemy ORM
- Все CRUD операции реализованы (Create, Read, Delete)

✅ **Реализованы методы создания, получения и удаления мероприятий**
- POST /api/events - создание мероприятия
- GET /api/events - получение всех мероприятий  
- GET /api/events/my/{user_id} - получение мероприятий пользователя
- DELETE /api/events/{id} - удаление мероприятия по ID

✅ **API протестирован - все запросы работают корректно, ошибки обрабатываются**

✅ **Используется простой API-ключ для защиты: `levem_api_key_2024`**

✅ **Формат данных — JSON**

✅ **API создан для существующего проекта Levem на основе organizerInterface.py**

## Результаты тестирования

### 1. Успешные операции

**Проверка состояния API:**
- GET /api/health - ✅ Работает, возвращает статус, информацию о проекте и доступные эндпоинты

**Создание мероприятия:**
- POST /api/events с корректными данными - ✅ Мероприятие создается успешно (ID=3)
- Создано мероприятие "IT Конференция 2024" с полными данными - ✅ Сохраняется в БД

**Получение мероприятий:**
- GET /api/events - ✅ Возвращает список всех мероприятий (вначале 2 мероприятия, после создания нового - 3)
- GET /api/events/my/3 - ✅ Возвращает мероприятия конкретного пользователя (2 мероприятия)

**Удаление мероприятия:**
- DELETE /api/events/2 - ✅ Мероприятие удаляется успешно
- После удаления в списке остаются только мероприятия ID=1 и ID=3 - ✅ Подтверждение удаления

### 2. Обработка ошибок

**Авторизация:**
- Запрос без API-ключа - ✅ Возвращает 401 "Unauthorized - Invalid or missing API key"

**Валидация данных:**
- POST без обязательного поля "organizer_id" - ✅ Возвращает 400 "Field organizer_id is required"

**Несуществующие ресурсы:**
- DELETE /api/events/999 (несуществующий ID) - ✅ Возвращает 404 "Event not found or access denied"

## Примеры данных

**Созданные мероприятия:**
1. ID=1: "Тестовое мероприятие" (из тестовых данных)
2. ID=2: "Тестовое мероприятие" (удалено при тестировании)
3. ID=3: "IT Конференция 2024" (остается в системе)

**Тестовый пользователь:**
- ID=3: "test_organizer" с email "test@example.com"

**Формат ответа для мероприятий:**
```json
{
  "event_id": 3,
  "organizer_id": 3,
  "title": "IT Конференция 2024",
  "description": "Ежегодная конференция по информационным технологиям",
  "start_date": "2024-12-15T10:00:00",
  "end_date": "2024-12-15T18:00:00",
  "location": "Москва, ул. Примерная, 1"
}
```

## Дополнительные эндпоинты

**Получение мероприятий пользователя:**
- GET /api/events/my/{user_id} - ✅ Работает для фильтрации по организатору

## Интеграция с существующим проектом

**Использованы существующие компоненты:**
- organizerInterface.py - для всех CRUD операций с мероприятиями
- mydatabase.py - модели Event, User и работа с БД
- SQLAlchemy ORM для работы с базой данных

**Адаптация под REST API:**
- Все функции конвертированы в REST эндпоинты
- JSON формат для запросов и ответов
- Добавлена авторизация через API-ключ
- Обработка ошибок HTTP статусов

## Заключение

Levem API полностью соответствует требованиям задания:
- Все CRUD операции реализованы и работают корректно
- Простая авторизация через API-ключ функционирует
- Обработка ошибок настроена правильно
- Формат обмена данными - JSON
- База данных SQLite с моделями Event и User
- API интегрирован с существующим проектом Levem
- API протестирован с помощью curl команд
- Все функции основаны на существующем коде organizerInterface.py