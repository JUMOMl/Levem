# Техническая документация проекта Levem

## Обзор проекта

**Levem** — это система управления мероприятиями и продажи билетов, написанная на языке программирования Python. Система позволяет пользователям регистрироваться, создавать мероприятия в качестве организаторов и приобретать билеты на события других пользователей.

## 1. Общая архитектура проекта

![Архитектура проекта Levem](architecture_diagram.png)

Архитектура проекта основана на слоистой модели и включает следующие уровни:
- Уровень пользовательского интерфейса (CLI)
- Уровень бизнес-логики
- Уровень доступа к данным
- Уровень базы данных

## 2. Компоненты приложения

### 2.1 Основные модули

#### Модуль аутентификации (RegistrationAndAuthorization.py)
Регистрация и аутентификация пользователей с использованием bcrypt для хеширования паролей.

#### Модуль управления мероприятиями (organizerInterface.py)
Создание, редактирование и удаление мероприятий с проверкой прав доступа.

#### Модуль покупки билетов (ticketPurchaseInterface.py)
Просмотр доступных мероприятий и покупка билетов.

### 2.2 Взаимодействие компонентов
Модули взаимодействуют через объектно-реляционное отображение SQLAlchemy, обеспечивая слабую связность компонентов.

### 2.3 Структура каталогов
Структура проекта следует стандартам Python с четким разделением модулей и конфигурационных файлов.

## 3. Работа с данными

### 3.1 Модель базы данных

![ER-диаграмма базы данных](database_er_diagram.png)

Система использует SQLite в качестве основной базы данных с поддержкой PostgreSQL через psycopg2. База данных включает 10 основных таблиц для управления пользователями, мероприятиями, билетами и системой опыта.

### 3.2 Основные таблицы

#### Users (Пользователи)
Хранение информации о пользователях системы с хешированными паролями.

#### Events (Мероприятия) 
Данные мероприятий с информацией о датах, местах проведения и организаторах.

#### Tickets (Билеты)
Покупки билетов пользователями на мероприятия.

### 3.3 Связи между таблицами
Используются внешние ключи для обеспечения целостности данных между таблицами.

## 4. Валидация и обработка ошибок

### 4.1 Обработка исключений
Система обрабатывает ошибки базы данных через SQLAlchemy с логированием всех событий.

### 4.2 Валидация данных
Проверка формата email, сложности паролей и уникальности пользовательских данных.

### 4.3 Обработка неверного ввода
Возврат понятных сообщений об ошибках пользователю при некорректных данных.

## 5. Используемые технологии и библиотеки

### 5.1 Язык программирования
Python 3.x с использованием стандартных библиотек и внешних пакетов.

### 5.2 Основные зависимости
- SQLAlchemy (ORM для работы с базой данных)
- bcrypt (хеширование паролей)
- pytest (тестирование)
- alembic (управление миграциями)

### 5.3 База данных
SQLite для разработки и тестирования с совместимостью PostgreSQL.

### 5.4 Инструменты разработки
PyCharm/IDEA, Git, GitHub Actions для CI/CD, система контроля версий.
